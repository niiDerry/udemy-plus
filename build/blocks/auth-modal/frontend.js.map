{"version":3,"file":"blocks/auth-modal/frontend.js","mappings":"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","sources":["webpack://udemy-plus/webpack/bootstrap","webpack://udemy-plus/webpack/runtime/make namespace object","webpack://udemy-plus/./src/blocks/auth-modal/frontend.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// JavaScript for handling the authentication modal functionality\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const openModalBTN = document.querySelectorAll(\".open-modal\");\r\n  const modalElement = document.querySelector(\r\n    \".wp-block-udemy-plus-auth-modal\"\r\n  );\r\n  const modalCloseElement = document.querySelectorAll(\r\n    \".modal-overlay, .modal-btn-close\"\r\n  );\r\n\r\n  openModalBTN.forEach((element) => {\r\n    element.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n\r\n      modalElement.classList.add(\"modal-show\");\r\n    });\r\n  });\r\n\r\n  modalCloseElement.forEach((element) => {\r\n    element.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n\r\n      modalElement.classList.remove(\"modal-show\");\r\n    });\r\n  });\r\n\r\n  const tabs = document.querySelectorAll(\".tabs a\");\r\n  const signinForm = document.querySelector(\"#signin-tab\");\r\n  const signupForm = document.querySelector(\"#signup-tab\");\r\n\r\n  tabs.forEach((tab) => {\r\n    tab.addEventListener(\"click\", (event) => {\r\n      event.preventDefault();\r\n\r\n      tabs.forEach((currentTab) => {\r\n        currentTab.classList.remove(\"active-tab\");\r\n      });\r\n\r\n      event.currentTarget.classList.add(\"active-tab\");\r\n\r\n      const activeTab = event.currentTarget.getAttribute(\"href\");\r\n\r\n      if (activeTab === \"#signin-tab\") {\r\n        signinForm.style.display = \"block\";\r\n        signupForm.style.display = \"none\";\r\n      } else {\r\n        signinForm.style.display = \"none\";\r\n        signupForm.style.display = \"block\";\r\n      }\r\n    });\r\n  });\r\n\r\n  signupForm.addEventListener(\"submit\", async (event) => {\r\n    event.preventDefault();\r\n\r\n    const signupFieldset = signupForm.querySelector(\"fieldset\");\r\n    signupFieldset.setAttribute(\"disabled\", true);\r\n\r\n    const signupStatus = signupForm.querySelector(\"#signup-status\");\r\n    signupStatus.innerHTML = `\r\n    <div class = \"modal-status modal-status-info\">\r\n      Please wait!!! We are creating your account.\r\n    </div>\r\n    `;\r\n\r\n    const formData = {\r\n      username: signupForm.querySelector(\"#su-name\").value,\r\n      email: signupForm.querySelector(\"#su-email\").value,\r\n      password: signupForm.querySelector(\"#su-password\").value,\r\n    };\r\n\r\n    const response = await fetch(up_auth_rest.signup, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(formData),\r\n    });\r\n\r\n    const responseJSON = await response.json();\r\n\r\n    if (responseJSON.status === 2) {\r\n      signupStatus.innerHTML = `\r\n      <div class = \"modal-status modal-status-success> \r\n        Success! Your account has been created.\r\n      </div>\r\n      `;\r\n      location.reload();\r\n    } else {\r\n      signupFieldset.removeAttribute(\"disabled\");\r\n      signupStatus.innerHTML = `\r\n      <div class = \"modal-status modal-status-danger\">\r\n        Unable to create your account. Please try again.\r\n      </div>\r\n      `;\r\n    }\r\n  });\r\n\r\n  signinForm.addEventListener(\"submit\", async (event) => {\r\n    event.preventDefault();\r\n\r\n    const signinFieldset = signinForm.querySelector(\"fieldset\");\r\n    const signinStatus = signinForm.querySelector(\"#signin-status\");\r\n\r\n    signinFieldset.setAttribute(\"disabled\", true);\r\n    signinStatus.innerHTML = `\r\n      <div class = \"modal-status modal-status-info\">\r\n        Please wait!!! We are Logging you in.\r\n      </div>\r\n    `;\r\n\r\n    const formData = {\r\n      user_login: signinForm.querySelector(\"#si-email\").value,\r\n      password: signinForm.querySelector(\"#si-password\").value,\r\n    };\r\n\r\n    const response = await fetch(up_auth_rest.signin, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify(formData),\r\n    });\r\n\r\n    const responseJSON = await response.json();\r\n\r\n    if (responseJSON.status === 2) {\r\n      signinForm.status = `\r\n      <div class = \"modal-status modal-status-success> \r\n        Success! You are now logged in.\r\n      </div>\r\n      `;\r\n      location.reload();\r\n    } else {\r\n      signinFieldset.removeAttribute(\"disabled\");\r\n      signinStatus.innerHTML = `\r\n      <div class = \"modal-status modal-status-danger\">\r\n        Invalid email or password. Please try again.\r\n      </div>\r\n      `;\r\n    }\r\n  });\r\n});\r\n"],"names":["document","addEventListener","openModalBTN","querySelectorAll","modalElement","querySelector","modalCloseElement","forEach","element","event","preventDefault","classList","add","remove","tabs","signinForm","signupForm","tab","currentTab","currentTarget","activeTab","getAttribute","style","display","signupFieldset","setAttribute","signupStatus","innerHTML","formData","username","value","email","password","response","fetch","up_auth_rest","signup","method","headers","body","JSON","stringify","responseJSON","json","status","location","reload","removeAttribute","signinFieldset","signinStatus","user_login","signin"],"sourceRoot":""}